<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Alan+Sans:wght@300..900&family=Irish+Grover&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: hsl(0, 0%, 98%);
      font-family: "Alan Sans", sans-serif;
      margin: 0;
    }

    h1 {
      font-family: "Irish Grover", cursive;
      font-weight: 400;
      color: #ee670c;
      margin-left: 20px;
    }

    .nav {
      display: flex;
      align-items: center;
      gap: 20px;
      background-color: white;
      padding: 10px 30px;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      z-index: 10;
    }

    .nav a {
      text-decoration: none;
      color: black;
      font-size: 18px;
      padding: 10px 15px;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    .nav a:hover {
      background-color: #f0f0f0;
    }

    .search {
      margin-left: auto;
      display: flex;
      align-items: center;
      border: 1px solid #000000;
      border-radius: 20px;
      padding: 5px 10px;
    }

    .search input {
      border: none;
      outline: none;
      background: none;
      font-size: 16px;
      margin-left: 5px;
    }

    .sidebar {
      position: fixed;
      top: 120px;
      left: 20px;
      bottom: 60px;
      width: 220px;
      background-color: #FFED26;
      border-radius: 15px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      padding: 20px;
    }

    .sidebar h3 {
      margin: 0 0 20px 50px;
    }

    .sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .sidebar li {
      margin: 10px 0;
    }

    .sidebar a {
      text-decoration: none;
      color: #151506;
      font-size: 18px;
      display: block;
      padding: 8px 15px;
      border-radius: 10px;
      transition: background-color 0.3s;
    }

    .sidebar a:hover {
      background-color: #cad315;
    }

    .chef {
      margin-top: 30px;
      text-align: center;
    }

    .chef img {
      width: 150px;
      border-radius: 10px;
    }

    .content {
      flex-grow: 1;
      padding: 40px;
      margin-top: 100px;
      margin-left: 320px;
    }

    .content h2 {
      font-size: 28px;
      color: #333;
      margin-bottom: 10px;
    }

    .content p {
      font-size: 18px;
      color: #555;
      margin-bottom: 25px;
    }

    form {
      background-color: white;
      padding: 25px 35px;
      border-radius: 15px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      max-width: 700px;
    }

    form section {
      margin-bottom: 25px;
    }

    form h3 {
      color: #ee670c;
      margin-bottom: 10px;
    }

    label {
      display: block;
      font-weight: 600;
      margin: 8px 0 5px;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"],
    select {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    input[type="checkbox"] {
      margin-right: 8px;
    }

    button {
      background-color: #ee670c;
      color: white;
      padding: 10px 25px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #d45b08;
    }

    .display-box {
      background: white;
      padding: 25px 35px;
      border-radius: 15px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      max-width: 700px;
    }

    .display-box p {
      font-size: 18px;
      margin: 8px 0;
    }
.profile-img {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  display: inline-block;   /* âœ… CORRECT */
  margin-left: 40px;
  margin-bottom: 15px;
  object-fit: cover;
  border: 2px solid #ee0c0c;
}



    @media (max-width: 768px) {
      h1{ font-size:20px; margin-top:25px; } 
      h2{ font-size:20px;} 
      .nav{flex-wrap:wrap; gap:5px; padding:10px 5px;} 
      .nav a{font-size:15px;margin-left:10px;} 
      .sidebar{top:125px; left:8px;width:160px;} 
      .content{margin-left:200px;padding:10px 20px;} 
      .category-list{justify-content:center; gap:20px;} 
    }
    @media (max-width:480px){ 
      .sidebar{display:none;} 
      .content{margin:100px 20px; padding:20px;} 
      .category-list{grid-template-columns:repeat(2,1fr); display:grid; gap:15px;} 
      .category-item{width:100%;} 
      .download-prompt{font-size:small;} 
    }

  </style>
</head>
<body>

  <nav class="nav">
    <h1>Mora Food</h1>
    <a href="Main.html">Home</a>
    <a href="Restaurants.html">Restaurants</a>
    <a href="Home Chefs.html">Home Chefs</a>
    <a href="Offers.html">Offers</a>
    <a href="About.html">About</a>
    <div class="search">
      <i class="fa fa-search"></i>
      <input type="search" placeholder="Search settings...">
    </div>
  </nav>

  <div class="page-layout">
    <aside class="sidebar">
      <h3>Go Meal</h3>
      <ul>
        <li><a href="Special Menu.html">Special Menu</a></li>
        <li><a href="Favorite.html">Favorite</a></li>
        <li><a href="Message.html">Messages</a></li>
        <li><a href="Order History.html">Order History</a></li>
        <li><a href="setting.html">Settings</a></li>
      </ul>
      <div class="chef">
        <img src="Img/chefs.png" alt="Chef">
      </div>
    </aside>

    <main class="content">
      <h2>Settings</h2>
      <p>Manage your profile, privacy, preferences, and more.</p>

      <form id="settingsForm">
        <section>
          <h3>Profile Information</h3>
           <img id="previewImg" class="profile-img" src="Img/profile.png">
          <label for="profile">Change Profile Image</label>
          <input type="file" id="profile" accept="image/*">

          <label for="name">Full Name</label>
          <input type="text" id="name" placeholder="Enter your full name">

          <label for="phone">Phone Number</label>
          <input type="text" id="phone" placeholder="Enter your phone number">
          <label for="email">Email</label>
          <input type="email" id="email" placeholder="Enter your email">

          <label for="password">Password</label>
          <input type="password" id="password" placeholder="Enter new password">
        </section>

        <section>
          <h3>Notification Settings</h3>
          <label><input type="checkbox" id="emailNotify"> Email Notifications</label>
          <label><input type="checkbox" id="smsNotify"> SMS Alerts</label>
          <label><input type="checkbox" id="appNotify"> App Notifications</label>
        </section>

        <section>
          <label><input type="checkbox" id="personalized"> Allow personalized recommendations</label>
        </section>

        <button type="submit">Save Changes</button>
      </form>

      <div id="displaySection" class="display-box" style="display:inline-block;">
        <h3 style="color:#ee670c;">Saved Settings</h3>
    <img id="savedProfileImg" class="profile-img" src="Img/profile.png" alt="Profile Image">
        <p><b>Name:</b> <span id="d_name"></span></p>
        <p><b>Phone:</b> <span id="d_phone"></span></p>
        <p><b>Email:</b> <span id="d_email"></span></p>
        <p><b>Password:</b> <span id="d_password"></span></p>
        <p><b>Email Notifications:</b> <span id="d_emailNotify"></span></p>
        <p><b>SMS Alerts:</b> <span id="d_smsNotify"></span></p>
        <p><b>App Notifications:</b> <span id="d_appNotify"></span></p>
        <p><b>Personalized Recommendations:</b> <span id="d_personalized"></span></p>
        <button id="editBtn">Edit</button>
      </div>
    </main>
  </div>

  <script>
    const form = document.getElementById('settingsForm');
    const displaySection = document.getElementById('displaySection');
    const profileInput = document.getElementById('profile');
    const previewImg = document.getElementById('previewImg');
    let profileDataURL = '';

    // Load saved data if any
    window.onload = function() {
      const saved = JSON.parse(localStorage.getItem('settingsData'));
      if (saved) {
        profileDataURL = saved.profileImg || 'Img/profile.png';
        showData(saved);
      }
    };

    profileInput.addEventListener('change', function() {
      const file = this.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          previewImg.src = e.target.result;
          profileDataURL = e.target.result;
        };
        reader.readAsDataURL(file);
      }
    });

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const data = {
        profileImg: profileDataURL || 'Img/profile.png',
        name: document.getElementById('name').value,
        phone: document.getElementById('phone').value,
        email: document.getElementById('email').value,
        password: document.getElementById('password').value,
        emailNotify: document.getElementById('emailNotify').checked,
        smsNotify: document.getElementById('smsNotify').checked,
        appNotify: document.getElementById('appNotify').checked,
        personalized: document.getElementById('personalized').checked
      };
      localStorage.setItem('settingsData', JSON.stringify(data));
      showData(data);
    });

    function showData(data) {
      document.getElementById('settingsForm').style.display = 'none';
      displaySection.style.display = 'block';

      document.getElementById('savedProfileImg').src = data.profileImg;
      document.getElementById('d_name').textContent = data.name;
      document.getElementById('d_phone').textContent = data.phone;
      document.getElementById('d_email').textContent = data.email;
      document.getElementById('d_password').textContent = data.password ? '********' : '';
      document.getElementById('d_emailNotify').textContent = data.emailNotify ? 'Yes' : 'No';
      document.getElementById('d_smsNotify').textContent = data.smsNotify ? 'Yes' : 'No';
      document.getElementById('d_appNotify').textContent = data.appNotify ? 'Yes' : 'No';
      document.getElementById('d_personalized').textContent = data.personalized ? 'Yes' : 'No';
    }

    document.getElementById('editBtn').addEventListener('click', function() {
      const saved = JSON.parse(localStorage.getItem('settingsData'));
      if (saved) {
        profileDataURL = saved.profileImg;
        previewImg.src = saved.profileImg;
        document.getElementById('name').value = saved.name;
        document.getElementById('phone').value = saved.phone;
        document.getElementById('email').value = saved.email;
        document.getElementById('password').value = saved.password;
        document.getElementById('emailNotify').checked = saved.emailNotify;
        document.getElementById('smsNotify').checked = saved.smsNotify;
        document.getElementById('appNotify').checked = saved.appNotify;
        document.getElementById('personalized').checked = saved.personalized;
      }
      displaySection.style.display = 'none';
      document.getElementById('settingsForm').style.display = 'block';
    });
  </script>
</body>
</html>
